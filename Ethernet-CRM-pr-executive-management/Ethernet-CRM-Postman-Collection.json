{
	"info": {
		"_postman_id": "ethernet-crm-api-2024",
		"name": "Ethernet CRM API Collection",
		"description": "# Ethernet CRM API Documentation\n\n## Overview\nThis is a comprehensive collection for the Ethernet CRM API. This collection includes all available endpoints with detailed descriptions, example requests, and responses.\n\n## Base URL\n`http://localhost:3000/api/v1`\n\n## Authentication\nMost endpoints require authentication using JWT tokens:\n1. Register or Login to get `accessToken` and `refreshToken`\n2. Add the `accessToken` in the Authorization header as `Bearer <token>`\n3. When `accessToken` expires (15 minutes), use `/auth/refresh` endpoint with `refreshToken` to get new tokens\n\n## Quick Start Guide for Interns\n1. **Start the server**: Make sure the backend server is running on port 3000\n2. **Register a user**: Use POST `/auth/register` to create a new account\n3. **Login**: Use POST `/auth/login` to get your access token\n4. **Set token**: Copy the accessToken and set it in Collection Variables as `accessToken`\n5. **Make requests**: All protected endpoints will automatically use your token\n\n## Common HTTP Status Codes\n- 200: Success\n- 201: Created successfully\n- 400: Bad request (validation error)\n- 401: Unauthorized (missing or invalid token)\n- 403: Forbidden (no permission)\n- 404: Not found\n- 409: Conflict (resource already exists)\n- 500: Server error\n\n## Support\nIf you encounter any issues, check:\n1. Server is running\n2. Database connection is established\n3. Token is valid and not expired\n4. Request body matches the required format",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{accessToken}}",
				"type": "string"
			}
		]
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3000/api/v1",
			"type": "string"
		},
		{
			"key": "accessToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "refreshToken",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Health Check",
			"item": [
				{
					"name": "Server Health Check",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/health",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"health"
							]
						},
						"description": "## Purpose\nCheck if the server is running and healthy.\n\n## Authentication\nNo authentication required.\n\n## Response\nReturns a success message with timestamp if the server is running properly.\n\n## When to Use\n- Before starting development to ensure server is up\n- For monitoring and health checks\n- Troubleshooting connection issues\n\n## Example Response\n```json\n{\n  \"success\": true,\n  \"message\": \"Server is running\",\n  \"timestamp\": \"2024-11-07T10:30:00.000Z\"\n}\n```"
					},
					"response": []
				},
				{
					"name": "Leads Health Check",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/leads/health",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"leads",
								"health"
							]
						},
						"description": "## Purpose\nCheck if the leads module is working.\n\n## Authentication\nNo authentication required.\n\n## Response\nReturns OK status if the leads module is functional."
					},
					"response": []
				}
			],
			"description": "Health check endpoints to verify the server and modules are running correctly."
		},
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register New User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"accessToken\", jsonData.data.accessToken);",
									"    pm.collectionVariables.set(\"refreshToken\", jsonData.data.refreshToken);",
									"    console.log(\"Tokens saved automatically!\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John Doe\",\n  \"employeCode\": \"EMP001\",\n  \"phoneNumber\": \"9876543210\",\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "## Purpose\nCreate a new user account in the system.\n\n## Authentication\nNo authentication required (public endpoint).\n\n## Required Fields\n- **name** (string): Full name of the user\n- **password** (string): Must be at least 6 characters\n- **At least one identifier**: employeCode, phoneNumber, or email\n\n## Optional Fields\n- **employeCode** (string): Unique employee code\n- **phoneNumber** (string): 10-15 digits phone number\n- **email** (string): Valid email address\n\n## Validation Rules\n1. Name cannot be empty\n2. Password must be minimum 6 characters\n3. At least one of employeCode, phoneNumber, or email must be provided\n4. Phone number must be 10-15 digits\n5. Email must be valid format\n\n## Response\nReturns user data along with `accessToken` (valid for 15 minutes) and `refreshToken` (valid for 7 days).\n\n## Note\nThe tokens are automatically saved in collection variables by the test script.\n\n## Error Cases\n- 409: User already exists with the same employeCode, phoneNumber, or email\n- 400: Validation errors\n\n## Example Response\n```json\n{\n  \"success\": true,\n  \"message\": \"User registered successfully\",\n  \"data\": {\n    \"user\": {\n      \"id\": 1,\n      \"name\": \"John Doe\",\n      \"employeCode\": \"EMP001\",\n      \"phoneNumber\": \"9876543210\",\n      \"email\": \"john.doe@example.com\"\n    },\n    \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n  }\n}\n```"
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"accessToken\", jsonData.data.accessToken);",
									"    pm.collectionVariables.set(\"refreshToken\", jsonData.data.refreshToken);",
									"    console.log(\"Tokens saved automatically!\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"identifier\": \"EMP001\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "## Purpose\nAuthenticate an existing user and get access tokens.\n\n## Authentication\nNo authentication required (public endpoint).\n\n## Required Fields\n- **identifier** (string): Can be either employeCode or phoneNumber\n- **password** (string): User's password\n\n## How It Works\n1. System searches for user by employeCode or phoneNumber\n2. Validates the password\n3. Checks if account is active\n4. Returns access tokens if successful\n\n## Response\nReturns user data along with new `accessToken` and `refreshToken`.\n\n## Note\nThe tokens are automatically saved in collection variables by the test script.\n\n## Token Expiry\n- Access Token: 15 minutes\n- Refresh Token: 7 days\n\n## Error Cases\n- 401: Invalid credentials (wrong identifier or password)\n- 403: Account has been deactivated\n- 400: Validation errors (missing fields)\n\n## Example Response\n```json\n{\n  \"success\": true,\n  \"message\": \"Login successful\",\n  \"data\": {\n    \"user\": {\n      \"id\": 1,\n      \"name\": \"John Doe\",\n      \"employeCode\": \"EMP001\",\n      \"phoneNumber\": \"9876543210\",\n      \"email\": \"john.doe@example.com\",\n      \"isActive\": true\n    },\n    \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n  }\n}\n```\n\n## Tips for Interns\n- You can login with either employeCode or phoneNumber\n- Always save the accessToken for subsequent requests\n- If you get 401 errors on other endpoints, your token might be expired"
					},
					"response": []
				},
				{
					"name": "Get User Profile",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/auth/profile",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"profile"
							]
						},
						"description": "## Purpose\nGet the profile information of the currently logged-in user.\n\n## Authentication\n**Required**: Bearer token in Authorization header.\n\n## How to Use\n1. Make sure you're logged in (have a valid accessToken)\n2. The token is automatically included from collection variables\n3. Send the request to get your profile\n\n## Response\nReturns the complete user profile of the authenticated user.\n\n## Use Cases\n- Verify your login status\n- Get current user information\n- Display user profile in frontend\n- Check user permissions and roles\n\n## Error Cases\n- 401: Token missing or invalid\n- 401: Token expired (use refresh endpoint)\n\n## Example Response\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": 1,\n    \"name\": \"John Doe\",\n    \"employeCode\": \"EMP001\",\n    \"phoneNumber\": \"9876543210\",\n    \"email\": \"john.doe@example.com\",\n    \"isActive\": true,\n    \"createdAt\": \"2024-11-07T10:00:00.000Z\",\n    \"updatedAt\": \"2024-11-07T10:00:00.000Z\"\n  }\n}\n```"
					},
					"response": []
				},
				{
					"name": "Refresh Access Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"accessToken\", jsonData.data.accessToken);",
									"    pm.collectionVariables.set(\"refreshToken\", jsonData.data.refreshToken);",
									"    console.log(\"New tokens saved automatically!\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/refresh",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"refresh"
							]
						},
						"description": "## Purpose\nGet new access and refresh tokens when your access token expires.\n\n## Authentication\nNo bearer token required, but you need a valid `refreshToken`.\n\n## When to Use\n- When you get 401 Unauthorized errors on protected endpoints\n- When your accessToken expires (after 15 minutes)\n- Before the refreshToken expires (within 7 days)\n\n## Required Fields\n- **refreshToken** (string): The refresh token received during login or registration\n\n## How It Works\n1. Validates the refresh token\n2. Checks if user account is still active\n3. Generates new access token and refresh token\n4. Invalidates the old refresh token\n5. Returns new tokens\n\n## Response\nReturns new `accessToken` and `refreshToken`.\n\n## Note\n- New tokens are automatically saved by the test script\n- The old refresh token becomes invalid after this request\n- Always store the new refresh token for future use\n\n## Error Cases\n- 401: Refresh token missing, invalid, or expired\n- 401: User account not found or deactivated\n\n## Example Response\n```json\n{\n  \"success\": true,\n  \"message\": \"Tokens refreshed successfully\",\n  \"data\": {\n    \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n  }\n}\n```\n\n## Tips for Interns\n- If both tokens are expired, you need to login again\n- Always update both tokens after refresh\n- This endpoint is crucial for maintaining user sessions"
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/auth/logout",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"logout"
							]
						},
						"description": "## Purpose\nLog out the current user and invalidate their refresh token.\n\n## Authentication\n**Required**: Bearer token in Authorization header.\n\n## How It Works\n1. Authenticates the user using the access token\n2. Clears the refresh token from the database\n3. User needs to login again to get new tokens\n\n## Response\nReturns success message confirming logout.\n\n## What Happens\n- Refresh token is removed from database\n- Access token remains valid until it expires naturally\n- User cannot refresh tokens anymore\n- Must login again to get new tokens\n\n## After Logout\n- Clear the `accessToken` and `refreshToken` from collection variables\n- User must login again to access protected endpoints\n\n## Error Cases\n- 401: Token missing or invalid\n\n## Example Response\n```json\n{\n  \"success\": true,\n  \"message\": \"Logout successful\"\n}\n```\n\n## Best Practice\nAlways call this endpoint when user clicks logout button in your application."
					},
					"response": []
				}
			],
			"description": "Authentication endpoints for user registration, login, token refresh, and logout.\n\n**Important**: Most other endpoints require authentication using the tokens obtained from these endpoints."
		},
		{
			"name": "User Management",
			"item": [
				{
					"name": "Get All Users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/users?page=1&limit=10&search=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number for pagination (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Number of users per page (default: 10)"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search by name or email"
								}
							]
						},
						"description": "## Purpose\nGet a paginated list of all users in the system.\n\n## Authentication\n**Required**: Bearer token + Admin role.\n\n## Query Parameters\n- **page** (number, optional): Page number, default is 1\n- **limit** (number, optional): Items per page, default is 10\n- **search** (string, optional): Search by name or email\n\n## Permissions\nOnly users with **admin** role can access this endpoint.\n\n## Response\nReturns paginated list of users with pagination metadata.\n\n## Use Cases\n- Admin dashboard to view all users\n- User management interface\n- Search and filter users\n- Export user lists\n\n## Error Cases\n- 401: Not authenticated\n- 403: Not an admin user\n\n## Example Response\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"users\": [\n      {\n        \"id\": 1,\n        \"name\": \"John Doe\",\n        \"employeCode\": \"EMP001\",\n        \"phoneNumber\": \"9876543210\",\n        \"email\": \"john.doe@example.com\",\n        \"isActive\": true,\n        \"createdAt\": \"2024-11-07T10:00:00.000Z\"\n      }\n    ],\n    \"pagination\": {\n      \"total\": 50,\n      \"page\": 1,\n      \"pages\": 5\n    }\n  }\n}\n```\n\n## Tips for Interns\n- Use search parameter to filter users\n- Adjust limit for different page sizes\n- Total pages = Math.ceil(total / limit)"
					},
					"response": []
				},
				{
					"name": "Get User By ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/users/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users",
								"1"
							]
						},
						"description": "## Purpose\nGet detailed information about a specific user by their ID.\n\n## Authentication\n**Required**: Bearer token.\n\n## URL Parameters\n- **id** (number): The user ID to retrieve\n\n## Permissions\nAuthenticated users can access this endpoint.\n\n## Response\nReturns complete user information.\n\n## Use Cases\n- View user profile details\n- Edit user form population\n- User detail page\n- Verification before updates\n\n## Error Cases\n- 401: Not authenticated\n- 404: User not found with given ID\n\n## Example Response\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": 1,\n    \"name\": \"John Doe\",\n    \"employeCode\": \"EMP001\",\n    \"phoneNumber\": \"9876543210\",\n    \"email\": \"john.doe@example.com\",\n    \"isActive\": true,\n    \"role\": \"user\",\n    \"createdAt\": \"2024-11-07T10:00:00.000Z\",\n    \"updatedAt\": \"2024-11-07T10:00:00.000Z\"\n  }\n}\n```"
					},
					"response": []
				},
				{
					"name": "Update User",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John Updated\",\n  \"email\": \"john.updated@example.com\",\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/users/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users",
								"1"
							]
						},
						"description": "## Purpose\nUpdate an existing user's information.\n\n## Authentication\n**Required**: Bearer token.\n\n## URL Parameters\n- **id** (number): The user ID to update\n\n## Optional Fields (all are optional)\n- **name** (string): Updated name\n- **email** (string): Updated email (must be valid format)\n- **role** (string): Updated role - must be 'user' or 'admin'\n- **isActive** (boolean): Account status\n\n## Validation Rules\n- Name cannot be empty if provided\n- Email must be valid format if provided\n- Role must be either 'user' or 'admin'\n\n## Response\nReturns updated user information.\n\n## Use Cases\n- Update user profile\n- Change user role\n- Activate/deactivate accounts\n- Edit user information\n\n## Error Cases\n- 401: Not authenticated\n- 404: User not found\n- 400: Validation errors\n\n## Example Response\n```json\n{\n  \"success\": true,\n  \"message\": \"User updated successfully\",\n  \"data\": {\n    \"id\": 1,\n    \"name\": \"John Updated\",\n    \"employeCode\": \"EMP001\",\n    \"phoneNumber\": \"9876543210\",\n    \"email\": \"john.updated@example.com\",\n    \"isActive\": true,\n    \"role\": \"user\",\n    \"updatedAt\": \"2024-11-07T11:00:00.000Z\"\n  }\n}\n```\n\n## Note\nYou can update one or multiple fields in a single request. Fields not included will remain unchanged."
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/users/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users",
								"1"
							]
						},
						"description": "## Purpose\nPermanently delete a user from the system.\n\n## Authentication\n**Required**: Bearer token + Admin role.\n\n## URL Parameters\n- **id** (number): The user ID to delete\n\n## Permissions\nOnly users with **admin** role can delete users.\n\n## Response\nReturns success message confirming deletion.\n\n## Warning\n⚠️ This action is **permanent** and cannot be undone!\n- All user data will be removed\n- User cannot login anymore\n- Consider deactivating instead of deleting\n\n## Alternative\nInstead of deleting, consider updating `isActive` to `false` to deactivate the account.\n\n## Error Cases\n- 401: Not authenticated\n- 403: Not an admin user\n- 404: User not found\n\n## Example Response\n```json\n{\n  \"success\": true,\n  \"message\": \"User deleted successfully\"\n}\n```\n\n## Best Practice\nFor data integrity, prefer soft deletes (isActive = false) over hard deletes."
					},
					"response": []
				}
			],
			"description": "User management endpoints for CRUD operations on users. Most operations require admin privileges."
		},
		{
			"name": "Expense Management",
			"item": [
				{
					"name": "Add Expense",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "user",
									"value": "{\"employeCode\":\"EMP001\",\"name\":\"John Doe\"}",
									"description": "User information as JSON string",
									"type": "text"
								},
								{
									"key": "category",
									"value": "Food",
									"description": "Expense category (e.g., Food, Travel, Accommodation)",
									"type": "text"
								},
								{
									"key": "amount",
									"value": "100",
									"description": "Expense amount (must be greater than 0)",
									"type": "text"
								},
								{
									"key": "distanceTravelled",
									"value": "35",
									"description": "Distance travelled in km (required for Food expenses)",
									"type": "text"
								},
								{
									"key": "billImages",
									"description": "Bill image 1 (max 2 images allowed)",
									"type": "file",
									"src": []
								},
								{
									"key": "billImages",
									"description": "Bill image 2 (optional)",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/leads/expense/add",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"leads",
								"expense",
								"add"
							]
						},
						"description": "## Purpose\nSubmit a new expense claim with bill images.\n\n## Authentication\nNot explicitly required but recommended to implement.\n\n## Content-Type\n**multipart/form-data** (for file upload)\n\n## Required Fields\n- **user** (JSON string): User information object containing employeCode and name\n- **category** (string): Type of expense\n- **amount** (number): Expense amount, must be greater than 0\n- **distanceTravelled** (number): Distance in km (important for Food category)\n- **billImages** (files): Up to 2 bill images\n\n## Special Rules for Food Category\n1. **Distance < 30 km**: Rejected (unless after 9 PM)\n2. **After 9 PM + Distance < 30 km**: Still rejected\n3. **Amount > Rs. 120**: Rejected (max allowed is Rs. 120)\n4. **Distance >= 30 km + Amount <= 120**: Approved\n\n## File Upload\n- Maximum 2 images allowed\n- Images are converted to base64 and stored\n- Original files are deleted after processing\n\n## Response\nReturns created expense with generated ID.\n\n## Use Cases\n- Submit daily expense claims\n- Upload food bills during field work\n- Track travel expenses\n\n## Error Cases\n- 400: Validation errors (missing fields, invalid amount)\n- 400: Food expense rejection based on rules\n- 500: File upload or processing errors\n\n## Example Response\n```json\n{\n  \"message\": \"Expense added\",\n  \"expense\": {\n    \"id\": 1,\n    \"category\": \"Food\",\n    \"amount\": 100,\n    \"distanceTravelled\": 35,\n    \"status\": \"Pending\",\n    \"user\": \"{\\\"employeCode\\\":\\\"EMP001\\\",\\\"name\\\":\\\"John Doe\\\"}\",\n    \"billImages\": \"[\\\"data:image/jpeg;base64,...\\\"]\",\n    \"date\": \"2024-11-07T10:00:00.000Z\"\n  }\n}\n```\n\n## Tips for Interns\n- Always check distance when submitting food expenses\n- Keep food expense under Rs. 120\n- Attach clear bill images\n- Fill all required fields"
					},
					"response": []
				},
				{
					"name": "Get Expenses",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/leads/expense?page=1&limit=10&employeCode=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"leads",
								"expense"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10)"
								},
								{
									"key": "employeCode",
									"value": "",
									"description": "Filter by employee code (optional)"
								}
							]
						},
						"description": "## Purpose\nGet a paginated list of expense claims with optional filtering.\n\n## Authentication\nNot explicitly required but should be implemented for production.\n\n## Query Parameters\n- **page** (number, optional): Page number, default is 1\n- **limit** (number, optional): Items per page, default is 10\n- **employeCode** (string, optional): Filter expenses by specific employee\n\n## Response\nReturns paginated expense list with pagination metadata.\n\n## Use Cases\n- View all expense claims\n- Track employee expenses\n- Filter expenses by employee\n- Admin expense review\n- Generate expense reports\n\n## Example Response\n```json\n{\n  \"expenses\": [\n    {\n      \"id\": 1,\n      \"category\": \"Food\",\n      \"amount\": 100,\n      \"distanceTravelled\": 35,\n      \"status\": \"Pending\",\n      \"user\": \"{\\\"employeCode\\\":\\\"EMP001\\\",\\\"name\\\":\\\"John Doe\\\"}\",\n      \"billImages\": \"[\\\"data:image/jpeg;base64,...\\\"]\",\n      \"date\": \"2024-11-07T10:00:00.000Z\"\n    }\n  ],\n  \"pagination\": {\n    \"total\": 25,\n    \"page\": 1,\n    \"limit\": 10,\n    \"totalPages\": 3\n  }\n}\n```\n\n## Tips for Interns\n- Use employeCode to filter specific employee expenses\n- Adjust page and limit for different views\n- Parse the user and billImages JSON fields to display properly"
					},
					"response": []
				},
				{
					"name": "Approve/Reject Expense",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"Approved\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/leads/expense/approve/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"leads",
								"expense",
								"approve",
								"1"
							]
						},
						"description": "## Purpose\nApprove or reject an expense claim.\n\n## Authentication\nShould require admin/manager role (to be implemented).\n\n## URL Parameters\n- **id** (number): The expense ID to approve/reject\n\n## Required Fields\n- **status** (string): Must be either 'Approved' or 'Rejected'\n\n## Valid Status Values\n- `Approved`: Expense is approved for reimbursement\n- `Rejected`: Expense is rejected\n\n## Response\nReturns updated expense with new status.\n\n## Use Cases\n- Manager reviewing expense claims\n- Batch approval of expenses\n- Rejecting invalid expenses\n- Expense approval workflow\n\n## Error Cases\n- 400: Invalid status (not 'Approved' or 'Rejected')\n- 404: Expense not found\n- 500: Server error\n\n## Example Response\n```json\n{\n  \"message\": \"Expense updated\",\n  \"expense\": {\n    \"id\": 1,\n    \"category\": \"Food\",\n    \"amount\": 100,\n    \"status\": \"Approved\",\n    \"user\": \"{\\\"employeCode\\\":\\\"EMP001\\\",\\\"name\\\":\\\"John Doe\\\"}\",\n    \"date\": \"2024-11-07T10:00:00.000Z\"\n  }\n}\n```\n\n## Workflow\n1. Employee submits expense → Status: Pending\n2. Manager reviews and approves → Status: Approved\n3. Finance processes reimbursement\n\nOR\n\n1. Employee submits expense → Status: Pending\n2. Manager reviews and rejects → Status: Rejected\n3. Employee resubmits with corrections"
					},
					"response": []
				}
			],
			"description": "Expense tracking and approval system. Handles expense claims with image uploads and approval workflow."
		},
		{
			"name": "Survey Management",
			"item": [
				{
					"name": "Get All Surveys",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/leads/survey",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"leads",
								"survey"
							]
						},
						"description": "## Purpose\nRetrieve all survey responses from the database.\n\n## Authentication\nNot explicitly required.\n\n## Response\nReturns array of all survey submissions.\n\n## Use Cases\n- View all customer feedback\n- Export survey data\n- Analyze survey responses\n- Generate reports\n\n## Example Response\n```json\n[\n  {\n    \"id\": 1,\n    \"serviceRating\": \"Excellent\",\n    \"heardFrom\": \"Social Media\",\n    \"likedFeatures\": [\"Easy to use\", \"Good support\"],\n    \"suggestions\": \"Add more features\",\n    \"createdAt\": \"2024-11-07T10:00:00.000Z\"\n  }\n]\n```"
					},
					"response": []
				},
				{
					"name": "Add Survey",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"serviceRating\": \"Excellent\",\n  \"heardFrom\": \"Social Media\",\n  \"likedFeatures\": [\"Easy to use\", \"Good support\"],\n  \"suggestions\": \"Keep up the good work!\",\n  \"customerName\": \"Jane Smith\",\n  \"customerEmail\": \"jane.smith@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/leads/survey/add",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"leads",
								"survey",
								"add"
							]
						},
						"description": "## Purpose\nSubmit a new survey response/feedback.\n\n## Authentication\nNo authentication required (public endpoint for customer feedback).\n\n## Request Fields\n- **serviceRating** (string): Rating - 'Excellent', 'Good', 'Average', or 'Poor'\n- **heardFrom** (string): How customer heard about us\n- **likedFeatures** (array): Features customer liked\n- **suggestions** (string): Customer suggestions\n- **customerName** (string, optional): Customer name\n- **customerEmail** (string, optional): Customer email\n\n## Rating Options\n- Excellent\n- Good\n- Average\n- Poor\n\n## Response\nReturns created survey with confirmation message.\n\n## Use Cases\n- Customer feedback collection\n- Service quality assessment\n- Feature preference tracking\n- Customer satisfaction surveys\n\n## Example Response\n```json\n{\n  \"message\": \"Survey saved successfully\",\n  \"survey\": {\n    \"id\": 1,\n    \"serviceRating\": \"Excellent\",\n    \"heardFrom\": \"Social Media\",\n    \"likedFeatures\": [\"Easy to use\", \"Good support\"],\n    \"suggestions\": \"Keep up the good work!\",\n    \"customerName\": \"Jane Smith\",\n    \"customerEmail\": \"jane.smith@example.com\",\n    \"createdAt\": \"2024-11-07T10:00:00.000Z\"\n  }\n}\n```\n\n## Tips for Interns\n- This is a public endpoint - no token needed\n- Can be embedded in customer-facing forms\n- likedFeatures is an array - multiple selections allowed"
					},
					"response": []
				},
				{
					"name": "Get Survey Summary",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/leads/survey/summary",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"leads",
								"survey",
								"summary"
							]
						},
						"description": "## Purpose\nGet aggregated statistics and summary of all survey responses.\n\n## Authentication\nNot explicitly required.\n\n## Response\nReturns statistical summary including:\n- Total number of responses\n- Rating distribution\n- Source distribution (where customers heard from)\n- Feature popularity count\n\n## Use Cases\n- Dashboard analytics\n- Management reports\n- Quick insights\n- Data visualization\n- Performance metrics\n\n## Example Response\n```json\n{\n  \"totalResponses\": 150,\n  \"ratings\": {\n    \"Excellent\": 80,\n    \"Good\": 50,\n    \"Average\": 15,\n    \"Poor\": 5\n  },\n  \"heardFrom\": {\n    \"Social Media\": 60,\n    \"Friend\": 40,\n    \"Advertisement\": 30,\n    \"Website\": 20\n  },\n  \"likedFeaturesCount\": {\n    \"Easy to use\": 90,\n    \"Good support\": 75,\n    \"Fast\": 60,\n    \"Reliable\": 85\n  }\n}\n```\n\n## Tips for Interns\n- Use this for creating charts and graphs\n- Perfect for dashboard widgets\n- Shows overall customer satisfaction trends\n- Calculate percentages: (count / totalResponses) * 100"
					},
					"response": []
				}
			],
			"description": "Survey and feedback collection system. Allows collecting customer feedback and viewing aggregated analytics."
		},
		{
			"name": "Executive Management (EM)",
			"item": [
				{
					"name": "Create EM User with Roles",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Admin User\",\n  \"employeCode\": \"ADMIN001\",\n  \"phoneNumber\": \"9876543210\",\n  \"email\": \"admin@example.com\",\n  \"password\": \"admin123\",\n  \"roleId\": 1,\n  \"moduleIds\": [1, 2, 3]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/leads/em/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"leads",
								"em",
								"users"
							]
						},
						"description": "## Purpose\nCreate a new user with specific role and module access permissions.\n\n## Authentication\nShould require admin privileges (to be implemented).\n\n## Required Fields\n- **name** (string): Full name of the user\n- **password** (string): Must be at least 6 characters\n- **roleId** (number): Valid role ID from the Roles table\n- **moduleIds** (array): Array of module IDs the user can access\n- **At least one identifier**: employeCode, phoneNumber, or email\n\n## Optional Fields\n- **employeCode** (string): Unique employee code\n- **phoneNumber** (string): 10-15 digits\n- **email** (string): Valid email address\n\n## How It Works\n1. Validates role exists\n2. Creates user with assigned role\n3. Associates user with specified modules\n4. Returns complete user data with role and modules\n\n## Response\nReturns created user with role and module details.\n\n## Use Cases\n- Creating admin users\n- Assigning role-based access\n- Setting up new employees with permissions\n- Managing module access\n\n## Error Cases\n- 400: Validation errors\n- 404: Role or modules not found\n- 500: Database errors\n\n## Example Response\n```json\n{\n  \"id\": 1,\n  \"name\": \"Admin User\",\n  \"employeCode\": \"ADMIN001\",\n  \"phoneNumber\": \"9876543210\",\n  \"email\": \"admin@example.com\",\n  \"isActive\": true,\n  \"Role\": {\n    \"id\": 1,\n    \"name\": \"Administrator\"\n  },\n  \"Modules\": [\n    {\n      \"id\": 1,\n      \"name\": \"User Management\"\n    },\n    {\n      \"id\": 2,\n      \"name\": \"Expense Management\"\n    },\n    {\n      \"id\": 3,\n      \"name\": \"Survey Management\"\n    }\n  ]\n}\n```\n\n## Tips for Interns\n- First create roles and modules before assigning them\n- roleId must exist in the Roles table\n- moduleIds must all exist in the Modules table\n- This creates users with granular permissions"
					},
					"response": []
				},
				{
					"name": "Get All EM Users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/leads/em/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"leads",
								"em",
								"users"
							]
						},
						"description": "## Purpose\nGet all users with their roles and module permissions.\n\n## Authentication\nShould require appropriate permissions.\n\n## Response\nReturns array of all users with their associated roles and modules.\n\n## Use Cases\n- List all employees\n- View role assignments\n- Check module access\n- User directory\n- Permission audit\n\n## Example Response\n```json\n[\n  {\n    \"id\": 1,\n    \"name\": \"Admin User\",\n    \"employeCode\": \"ADMIN001\",\n    \"phoneNumber\": \"9876543210\",\n    \"email\": \"admin@example.com\",\n    \"isActive\": true,\n    \"Role\": {\n      \"id\": 1,\n      \"name\": \"Administrator\"\n    },\n    \"Modules\": [\n      {\n        \"id\": 1,\n        \"name\": \"User Management\"\n      },\n      {\n        \"id\": 2,\n        \"name\": \"Expense Management\"\n      }\n    ]\n  }\n]\n```"
					},
					"response": []
				},
				{
					"name": "Get EM User By ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/leads/em/users/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"leads",
								"em",
								"users",
								"1"
							]
						},
						"description": "## Purpose\nGet specific user details with their role and module permissions.\n\n## Authentication\nShould require appropriate permissions.\n\n## URL Parameters\n- **id** (number): User ID to retrieve\n\n## Response\nReturns detailed user information including role and modules.\n\n## Use Cases\n- View user profile with permissions\n- Edit user form population\n- Check specific user access\n- User detail page\n\n## Error Cases\n- 404: User not found\n- 500: Server error\n\n## Example Response\n```json\n{\n  \"id\": 1,\n  \"name\": \"Admin User\",\n  \"employeCode\": \"ADMIN001\",\n  \"phoneNumber\": \"9876543210\",\n  \"email\": \"admin@example.com\",\n  \"isActive\": true,\n  \"role_id\": 1,\n  \"Role\": {\n    \"id\": 1,\n    \"name\": \"Administrator\"\n  },\n  \"Modules\": [\n    {\n      \"id\": 1,\n      \"name\": \"User Management\"\n    },\n    {\n      \"id\": 2,\n      \"name\": \"Expense Management\"\n    },\n    {\n      \"id\": 3,\n      \"name\": \"Survey Management\"\n    }\n  ],\n  \"createdAt\": \"2024-11-07T10:00:00.000Z\",\n  \"updatedAt\": \"2024-11-07T10:00:00.000Z\"\n}\n```"
					},
					"response": []
				}
			],
			"description": "Executive Management endpoints for creating and managing users with role-based access control (RBAC) and module permissions."
		},
		{
			"name": "Role Management",
			"item": [
				{
					"name": "Create Role",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Manager\",\n  \"description\": \"Can manage team and approve expenses\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/role",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"role"
							]
						},
						"description": "## Purpose\nCreate a new role in the system.\n\n## Authentication\nShould require admin privileges.\n\n## Required Fields\n- **name** (string): Unique role name\n\n## Optional Fields\n- **description** (string): Role description\n\n## Response\nReturns created role with ID.\n\n## Use Cases\n- Setting up organizational hierarchy\n- Creating custom roles\n- Permission management\n- Access control setup\n\n## Common Roles\n- Administrator: Full system access\n- Manager: Team and approval management\n- Employee: Basic user access\n- Viewer: Read-only access\n\n## Error Cases\n- 400: Role name already exists\n- 400: Validation errors\n\n## Example Response\n```json\n{\n  \"id\": 2,\n  \"name\": \"Manager\",\n  \"description\": \"Can manage team and approve expenses\",\n  \"is_active\": true,\n  \"createdAt\": \"2024-11-07T10:00:00.000Z\",\n  \"updatedAt\": \"2024-11-07T10:00:00.000Z\"\n}\n```\n\n## Tips for Interns\n- Create roles before assigning them to users\n- Use descriptive names\n- Role names must be unique"
					},
					"response": []
				},
				{
					"name": "Get All Roles",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/role",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"role"
							]
						},
						"description": "## Purpose\nRetrieve all available roles in the system.\n\n## Authentication\nNot explicitly required but recommended.\n\n## Response\nReturns array of all roles with their details.\n\n## Use Cases\n- Populate role dropdown in user forms\n- Display all available roles\n- Role management interface\n- Permission auditing\n\n## Example Response\n```json\n[\n  {\n    \"id\": 1,\n    \"name\": \"Administrator\",\n    \"description\": \"Full system access\",\n    \"is_active\": true\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Manager\",\n    \"description\": \"Can manage team and approve expenses\",\n    \"is_active\": true\n  },\n  {\n    \"id\": 3,\n    \"name\": \"Employee\",\n    \"description\": \"Basic user access\",\n    \"is_active\": true\n  }\n]\n```\n\n## Tips for Interns\n- Use this to populate dropdowns in forms\n- Show only active roles (is_active: true) in production\n- Cache this data in frontend to reduce API calls"
					},
					"response": []
				}
			],
			"description": "Role management for creating and retrieving user roles in the RBAC system."
		},
		{
			"name": "Module Management",
			"item": [
				{
					"name": "Create Module",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Expense Management\",\n  \"description\": \"Module for handling expense claims and approvals\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/module",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"module"
							]
						},
						"description": "## Purpose\nCreate a new module in the system.\n\n## Authentication\nShould require admin privileges.\n\n## Required Fields\n- **name** (string): Unique module name\n\n## Optional Fields\n- **description** (string): Module description\n\n## Response\nReturns created module with ID.\n\n## What are Modules?\nModules represent different functional areas or features of the application that can be assigned to users.\n\n## Common Modules\n- User Management: Create/edit users\n- Expense Management: Handle expenses\n- Survey Management: Manage surveys\n- Reports: View and generate reports\n- Settings: System configuration\n\n## Use Cases\n- Setting up permission structure\n- Feature-based access control\n- Granular permission management\n- Module-based licensing\n\n## Error Cases\n- 400: Module name already exists\n- 400: Validation errors\n\n## Example Response\n```json\n{\n  \"id\": 1,\n  \"name\": \"Expense Management\",\n  \"description\": \"Module for handling expense claims and approvals\",\n  \"createdAt\": \"2024-11-07T10:00:00.000Z\",\n  \"updatedAt\": \"2024-11-07T10:00:00.000Z\"\n}\n```\n\n## Tips for Interns\n- Create modules representing your app features\n- Assign modules to users for granular access\n- Module names must be unique"
					},
					"response": []
				},
				{
					"name": "Get All Modules",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/module",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"module"
							]
						},
						"description": "## Purpose\nRetrieve all available modules in the system.\n\n## Authentication\nNot explicitly required but recommended.\n\n## Response\nReturns array of all modules.\n\n## Use Cases\n- Populate module checkboxes in user forms\n- Display available features\n- Module management interface\n- Permission assignment\n\n## Example Response\n```json\n[\n  {\n    \"id\": 1,\n    \"name\": \"User Management\",\n    \"description\": \"Create and manage users\"\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Expense Management\",\n    \"description\": \"Handle expense claims and approvals\"\n  },\n  {\n    \"id\": 3,\n    \"name\": \"Survey Management\",\n    \"description\": \"Manage customer surveys\"\n  },\n  {\n    \"id\": 4,\n    \"name\": \"Reports\",\n    \"description\": \"View and generate reports\"\n  }\n]\n```\n\n## Tips for Interns\n- Use this to show available features\n- Allow admins to select modules when creating users\n- Check user's assigned modules to show/hide features in UI"
					},
					"response": []
				}
			],
			"description": "Module management for creating and retrieving application modules/features that can be assigned to users for access control."
		}
	]
}

